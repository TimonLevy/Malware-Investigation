VIEW RAW VERSION TO FIX LINES

main:
00401010 push ebp
00401011 mov ebp,esp
00401013 sub esp,10h                  / Allocate 16 Bytes of memory for the 2 structs.
00401016 mov dword ptr [a],0FFh       / a.var1 = 0xFF;
0040101D push 8                       / Push sizeof(mystruct_t)
0040101F lea eax,[a]                  / Load and push `a`'s address.
00401022 push eax  
00401023 lea ecx,[b]                  / Load and push `b`'s address.
00401026 push ecx  
00401027 call memcpy (401042h)        / memcpy(&b, &a, sizeof(mystruct_t));
0040102C add esp,0Ch                  / delete parameters from struct. (__cdecl call convention).
0040102F mov eax,0ACE0BA5Eh           / Move return value to eax.
00401034 mov esp,ebp
00401036 pop ebp
00401037 ret
_____________________________________________________________________________________________________________________________________________________________
Code:

//Journey to the center of memcpy
#include <stdio.h>

typedef struct mystruct{
    int var1;
    char var2[4];
} mystruct_t;

int main()
{
    mystruct_t a, b;
    a.var1 = 0xFF;
    memcpy(&b, &a, sizeof(mystruct_t));
    return 0xAce0Ba5e;
}